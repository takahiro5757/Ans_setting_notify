# ANSTEYPE - 携帯販売営業管理システム

携帯販売代理店の営業活動と実績管理をサポートするWebアプリケーションです。

## 主な機能

### 販売管理機能
- 週次キャパシティ管理
- 販売実績の記録・管理
- 詳細/サマリービューの切り替え
- 帯案件の管理

### 経理処理機能
- **見積管理**
  - 4ステップワークフロー（見積作成 → 送付先設定 → プレビュー → 送付）
  - 案件選択による見積自動生成
  - 代理店別グルーピング表示
  - 見積品目の編集・追加・削除
  - 税込み金額の自動計算（課税・非課税区分対応）

- **フリー見積作成**
  - 独立した見積作成機能
  - 複数品目の追加・削除
  - 送付先・店舗アドレスのマルチセレクト（Chip形式）
  - 自動計算機能（小計・消費税・合計金額）
  - 見積管理ページとの連携

- **案件詳細管理**
  - 交通費非課税チェック機能
  - 交通費ページ分け設定
  - 案件情報の詳細編集

### シフト管理機能
- スタッフのシフト割り当て
- 火曜日始まりの週次カレンダー
- ドラッグ&ドロップによる直感的操作

## 技術スタック

- **フロントエンド**
  - Next.js 14.1.0
  - React 18.2.0
  - TypeScript
  - Material-UI (MUI)

## 開発環境のセットアップ

1. リポジトリのクローン:
```bash
git clone https://github.com/Festal-KM/ANSTEYPE.git
cd ANSTEYPE
```

2. 依存関係のインストール:
```bash
npm install
```

3. 開発サーバーの起動:
```bash
npm run dev
```

4. ブラウザで開く:
```
http://localhost:3000
```

## 利用可能なスクリプト

- `npm run dev` - 開発サーバーを起動（ポート3000）
- `npm run build` - プロダクションビルドを作成
- `npm run start` - プロダクションサーバーを起動
- `npm run lint` - コードの静的解析を実行

## プロジェクト構造

```
ANSTEYPE/
├── src/
│   ├── app/
│   │   ├── layout.tsx
│   │   ├── page.tsx
│   │   ├── accounting/
│   │   │   ├── page.tsx
│   │   │   ├── estimates/
│   │   │   │   ├── page.tsx
│   │   │   │   └── free/
│   │   │   │       └── page.tsx
│   │   │   ├── projects/
│   │   │   │   └── page.tsx
│   │   │   ├── invoices/
│   │   │   │   └── page.tsx
│   │   │   └── amounts/
│   │   │       └── page.tsx
│   │   ├── sales/
│   │   │   └── page.tsx
│   │   └── shifts/
│   │       ├── assign/
│   │       ├── management/
│   │       └── venue-assign/
│   └── components/
│       ├── Header.tsx
│       ├── SalesTable.tsx
│       ├── WeekSelector.tsx
│       └── accounting/
│           ├── ProjectDetailModal.tsx
│           ├── EstimatePreviewList.tsx
│           ├── EstimatePreviewModal.tsx
│           └── EstimateSettingList.tsx
├── public/
├── package.json
├── tsconfig.json
└── PROJECT_RULE.md
```

## 機能詳細

### 販売管理機能
- **週次キャパシティ管理**
  - 週ごとのCloser、Girl、最大キャパシティの設定
  - キャパシティの可視化と管理

- **販売実績管理**
  - 年月選択による期間指定
  - 週次の実績データの記録
  - 詳細ビューとサマリービューの切り替え

- **帯案件管理**
  - 帯案件の登録と管理
  - ステータス管理と進捗追跡

### 経理処理機能
- **見積管理ワークフロー**
  - ステップ1：案件選択と見積作成
  - ステップ2：送付先設定と品目編集
  - ステップ3：見積書プレビューとメール編集
  - ステップ4：送付完了

- **フリー見積作成**
  - 代理店・送付先・店舗アドレスの選択
  - 発行日・振り込み期日の設定
  - 複数品目の管理（開催日・品目名・単価・数・課税区分）
  - 自動計算（小計・消費税10%・合計金額）
  - バリデーション機能

- **案件詳細管理**
  - 交通費非課税フラグの設定
  - 交通費ページ分け設定
  - 案件情報の包括的な編集機能

### シフト管理機能
- **スタッフ割り当て**
  - 火曜日始まりの週次カレンダー表示
  - ドラッグ&ドロップによる直感的な操作
  - 複数組織・ステータスによるフィルタリング

## 最新の更新内容

### v1.2.0 (2025-01-29)
- ✨ フリー見積作成機能の実装
- ✨ 交通費非課税チェック機能の追加
- 🔧 見積品目の追加・削除・自動計算機能
- 🎨 送付先・店舗アドレスのChip形式マルチセレクト
- 🐛 TypeScriptエラーの完全解消
- 📚 PROJECT_RULE.mdの更新
- ✅ ビルド成功確認済み

## ライセンス

このプロジェクトはMITライセンスの下で公開されています。
