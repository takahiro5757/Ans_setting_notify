# 1. 画面名

---

**スタッフ管理（Staff Management）**

---

# 2. 要素別仕様

---

## 2-1. スタッフ一覧テーブル

### UI 要素・コントロール・I/O

| 要素名 | コントロール種類 | I/O | 説明 |
| --- | --- | --- | --- |
| スタッフ追加ボタン | Button | 入力 | 新しいスタッフを追加（variant="contained"） |
| フィルターリセットボタン | Button | 入力 | 全フィルターをリセット（フィルター適用時のみ表示） |
| スタッフ一覧テーブル | Table | 出力 | スタッフ情報の一覧表示（横スクロール対応） |
| フィルターアイコン | IconButton | 入力 | 各列のExcelライクフィルター機能 |
| 編集ボタン | IconButton | 入力 | 個別スタッフ情報の編集 |
| プロフィール画像 | Avatar | 出力 | スタッフのプロフィール画像（クリックで拡大） |

### テーブル列定義

| 列名 | 幅 | 表示内容 | フィルター |
| --- | --- | --- | --- |
| 所属 | 100px | 所属会社（Ansteype・2次店会社A・B） | ✅ |
| 氏名 | 200px | プロフィール画像 + 氏名 | ✅ |
| 役職 | 80px | 役職（クローザー・ガール・研修生） | ✅ |
| 獲得力評価 | 180px | モール・外販・店内の星評価（3行表示） | - |
| 最寄駅 | 70px | 最寄駅 | ✅ |
| 単価 | 90px | 平日・土日単価と適用開始日（3行表示） | - |
| 出張可否 | 50px | 可・不可チップ表示 | ✅ |
| ディレクター可否 | 80px | 可・不可チップ表示 | ✅ |
| 外現場NG | 60px | NG・OKチップ表示 | ✅ |
| 車所有 | 40px | 有・無チップ表示 | ✅ |
| 操作 | 60px | 編集ボタンのみ | - |

### イベント定義

| イベント名 | 発生タイミング | イベント概要 | 遷移先 | バリデーション |
| --- | --- | --- | --- | --- |
| スタッフ追加 | 追加ボタンクリック | 新規スタッフ追加ダイアログ表示 | 編集ダイアログ | なし |
| フィルターリセット | リセットボタンクリック | 全フィルターを初期状態（全選択）に戻す | 同画面 | なし |
| フィルター適用 | フィルターアイコンクリック | Excelライクフィルターダイアログ表示・適用 | 同画面 | なし |
| スタッフ編集 | 編集ボタンクリック | スタッフ編集ダイアログ表示 | 編集ダイアログ | なし |
| 画像拡大表示 | 画像クリック | プロフィール画像の拡大表示 | 画像モーダル | なし |

---

## 2-2. タブナビゲーション

### UI 要素・コントロール・I/O

| 要素名 | コントロール種類 | I/O | 説明 |
| --- | --- | --- | --- |
| スタッフ管理タブ | Tab | 入力 | 基本的なスタッフ情報管理 |
| NG要員管理タブ | Tab | 入力 | スタッフ間のNG関係管理 |
| NG代理店管理タブ | Tab | 入力 | スタッフと代理店のNG関係管理 |

### イベント定義

| イベント名 | 発生タイミング | イベント概要 | 遷移先 | バリデーション |
| --- | --- | --- | --- | --- |
| タブ切り替え | タブクリック | 表示コンテンツの切り替え | 各タブ画面 | なし |

---

## 2-3. スタッフ編集ダイアログ

### UI 要素・コントロール・I/O

| 要素名 | コントロール種類 | I/O | 説明 |
| --- | --- | --- | --- |
| プロフィール画像エリア | AvatarWithPreview | 入出力 | 画像アップロード・クロップ機能 |
| 所属 | TextField | 入力 | 所属会社・部署 |
| 氏名 | TextField | 入力 | スタッフ氏名（必須） |
| 氏名カナ | TextField | 入力 | スタッフ氏名カナ（必須） |
| 性別 | Select | 入力 | 男性・女性選択 |
| 最寄駅 | TextField | 入力 | 最寄駅名 |
| 電話番号 | TextField | 入力 | 連絡先電話番号（必須） |
| メールアドレス | TextField | 入力 | メールアドレス（必須） |
| LINE ID | TextField | 入力 | LINE ID（通知用） |
| 役職 | Select | 入力 | スタッフ・リーダー・マネージャー・ディレクター |
| 平日単価 | TextField | 入力 | 平日日給（必須） |
| 休日単価 | TextField | 入力 | 休日日給（必須） |
| 単価適用開始日 | TextField | 入力 | 単価の適用開始日（date型） |
| 外現場NG | Switch | 入力 | 外現場NGフラグ |
| ディレクター可否 | Switch | 入力 | ディレクター可否フラグ |
| 車所有 | Switch | 入力 | 車所有フラグ |
| 出張可否 | Switch | 入力 | 出張可否フラグ |

### 獲得力評価セクション

| 要素名 | コントロール種類 | I/O | 説明 |
| --- | --- | --- | --- |
| モール獲得力 | Rating | 入力 | 0-5段階評価（0は配置不可） |
| 外販獲得力 | Rating | 入力 | 0-5段階評価（0は配置不可） |
| 店内獲得力 | Rating | 入力 | 0-5段階評価（0は配置不可） |
| スキル備考 | TextField | 入力 | 特記事項・スキル詳細 |

### イベント定義

| イベント名 | 発生タイミング | イベント概要 | 遷移先 | バリデーション |
| --- | --- | --- | --- | --- |
| 画像アップロード | 画像エリアクリック | 画像選択・クロップダイアログ | 画像クロップダイアログ | ファイル形式・サイズチェック |
| 単価変更 | 単価フィールド変更 | 単価適用開始日を今日に自動設定 | 同ダイアログ | 数値・範囲チェック |
| 適用開始日変更 | 日付フィールド変更 | 適用開始日の更新 | 同ダイアログ | 過去日付禁止 |
| 保存実行 | 保存ボタンクリック | スタッフ情報の保存 | 一覧画面 | 全フィールドバリデーション |
| キャンセル | キャンセルボタンクリック | 変更をキャンセル | 一覧画面 | 変更確認ダイアログ |

---

## 2-3. 画像クロップダイアログ

### UI 要素・コントロール・I/O

| 要素名 | コントロール種類 | I/O | 説明 |
| --- | --- | --- | --- |
| 画像プレビュー | Canvas | 出力 | クロップ対象画像の表示 |
| ズームスライダー | Slider | 入力 | 画像の拡大縮小（0-100%） |
| ドラッグ操作 | MouseEvent | 入力 | 画像の位置調整 |
| ピンチズーム | TouchEvent | 入力 | タッチデバイスでのズーム |
| リセットボタン | Button | 入力 | 初期状態にリセット |
| 適用ボタン | Button | 入力 | クロップを適用 |
| キャンセルボタン | Button | 入力 | クロップをキャンセル |

### イベント定義

| イベント名 | 発生タイミング | イベント概要 | 遷移先 | バリデーション |
| --- | --- | --- | --- | --- |
| ズーム操作 | スライダー操作 | 画像の拡大縮小 | 同ダイアログ | なし |
| ドラッグ操作 | マウス・タッチ操作 | 画像位置の調整 | 同ダイアログ | なし |
| リセット実行 | リセットボタンクリック | 初期状態に戻す | 同ダイアログ | なし |
| 適用実行 | 適用ボタンクリック | クロップした画像を確定 | 編集ダイアログ | なし |
| キャンセル実行 | キャンセルボタンクリック | クロップをキャンセル | 編集ダイアログ | なし |

---

## 2-4. NG要員管理セクション

### UI 要素・コントロール・I/O

| 要素名 | コントロール種類 | I/O | 説明 |
| --- | --- | --- | --- |
| NGペア追加ボタン | Button | 入力 | 新しいNG関係を追加（variant="contained"） |
| NG関係一覧テーブル | Table | 出力 | スタッフ間のNG関係一覧表示 |
| 編集ボタン | IconButton | 入力 | NG関係の編集 |
| 削除ボタン | IconButton | 入力 | NG関係の削除 |

### NG関係テーブル列定義

| 列名 | 表示内容 |
| --- | --- |
| 基準スタッフ | NG関係の基準となるスタッフ名 |
| NGスタッフ | NGとなるスタッフ名 |
| 理由 | NG関係の理由 |
| 登録日 | NG関係の登録日 |
| 操作 | 編集・削除ボタン |

### イベント定義

| イベント名 | 発生タイミング | イベント概要 | 遷移先 | バリデーション |
| --- | --- | --- | --- | --- |
| NGペア追加 | 追加ボタンクリック | NG関係追加ダイアログ表示 | NG関係追加ダイアログ | なし |
| NG関係編集 | 編集ボタンクリック | NG関係編集ダイアログ表示 | NG関係編集ダイアログ | なし |
| NG関係削除 | 削除ボタンクリック | 確認後にNG関係を削除 | 同画面 | 削除確認 |

---

## 2-5. NG関係追加ダイアログ

### UI 要素・コントロール・I/O

| 要素名 | コントロール種類 | I/O | 説明 |
| --- | --- | --- | --- |
| 所属絞り込み | Select | 入力 | スタッフを所属で絞り込み |
| 基準スタッフ選択 | Select | 入力 | NG関係の基準スタッフ選択（必須） |
| NGスタッフ選択 | Select | 入力 | NGとなるスタッフ選択（必須） |
| NG理由 | TextField | 入力 | NG関係の理由（必須、multiline） |
| 追加ボタン | Button | 入力 | NG関係を追加 |
| キャンセルボタン | Button | 入力 | ダイアログを閉じる |

### イベント定義

| イベント名 | 発生タイミング | イベント概要 | 遷移先 | バリデーション |
| --- | --- | --- | --- | --- |
| 所属絞り込み変更 | セレクト変更 | スタッフ選択肢を絞り込み | 同ダイアログ | なし |
| 基準スタッフ選択 | セレクト変更 | NGスタッフ選択肢から除外 | 同ダイアログ | なし |
| NG関係追加実行 | 追加ボタンクリック | 双方向のNG関係を作成 | NG要員管理画面 | 必須項目・重複チェック |

---

## 2-6. NG代理店管理セクション

### UI 要素・コントロール・I/O

| 要素名 | コントロール種類 | I/O | 説明 |
| --- | --- | --- | --- |
| NG代理店追加ボタン | Button | 入力 | 新しいNG代理店設定を追加（variant="contained"） |
| NG代理店一覧テーブル | Table | 出力 | スタッフと代理店のNG関係一覧表示 |
| 編集ボタン | IconButton | 入力 | NG代理店設定の編集 |
| 削除ボタン | IconButton | 入力 | NG代理店設定の削除 |

### NG代理店テーブル列定義

| 列名 | 表示内容 |
| --- | --- |
| スタッフ名 | 対象スタッフ名 |
| 代理店名 | 対象代理店名 |
| NG種別 | 代理店全体・レイヤー・店舗（チップ表示） |
| 対象 | 具体的な対象（レイヤー名・店舗名） |
| 理由 | NG設定の理由 |
| 登録日 | NG設定の登録日 |
| 操作 | 編集・削除ボタン |

### イベント定義

| イベント名 | 発生タイミング | イベント概要 | 遷移先 | バリデーション |
| --- | --- | --- | --- | --- |
| NG代理店追加 | 追加ボタンクリック | NG代理店追加ダイアログ表示 | NG代理店追加ダイアログ | なし |
| NG代理店編集 | 編集ボタンクリック | NG代理店編集ダイアログ表示 | NG代理店編集ダイアログ | なし |
| NG代理店削除 | 削除ボタンクリック | 確認後にNG代理店設定を削除 | 同画面 | 削除確認 |

---

## 2-7. NG代理店追加ダイアログ

### UI 要素・コントロール・I/O

| 要素名 | コントロール種類 | I/O | 説明 |
| --- | --- | --- | --- |
| 所属絞り込み | Select | 入力 | スタッフを所属で絞り込み |
| 対象スタッフ選択 | Select | 入力 | NG設定対象スタッフ選択（必須） |
| 代理店選択 | Select | 入力 | 対象代理店選択（必須） |
| NG種別選択 | Select | 入力 | 代理店全体・レイヤー・店舗から選択（必須） |
| 対象レイヤー選択 | Select | 入力 | NG種別がレイヤーの場合に表示 |
| 対象店舗選択 | Select | 入力 | NG種別が店舗の場合に表示 |
| NG理由 | TextField | 入力 | NG設定の理由（必須、multiline） |
| 追加ボタン | Button | 入力 | NG代理店設定を追加 |
| キャンセルボタン | Button | 入力 | ダイアログを閉じる |

### イベント定義

| イベント名 | 発生タイミング | イベント概要 | 遷移先 | バリデーション |
| --- | --- | --- | --- | --- |
| 代理店選択 | セレクト変更 | レイヤー・店舗選択肢を更新 | 同ダイアログ | なし |
| NG種別変更 | セレクト変更 | 対象選択フィールドの表示制御 | 同ダイアログ | なし |
| NG代理店追加実行 | 追加ボタンクリック | NG代理店設定を作成 | NG代理店管理画面 | 必須項目・重複チェック |


